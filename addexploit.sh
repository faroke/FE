#!/bin/sh
# GNU GENERAL PUBLIC LICENSE
# FExploit by 3n0k4s & F4r0k3

## On donne le rôle de "menu"
menu () {
echo "Automate your exploit = exploit"
echo "Automate your scan = scan"
echo ""
read -p "What's your addings? >> " addme
}
## On donne les rôles de addme_exploit
addme_exploit () {
## On demande des informations sur l'exploit
read -p "Enter a title >> " addme_exploit_title
read -p "Enter your name >> " addme_exploit_name
read -p "Enter the location of your exploit >> " addme_exploit_location
##On copie l'exploit vers le répertoire de FExploit
cp $addme_exploit_location /opt/FExploit/rsc/exploits/$addme_exploit_title
## On le rend executable
chmod +x /opt/FExploit/rsc/exploits/$addme_exploit_title
## On ajoute l'exploit dans listool.txt pour que les utilisateurs voit l'exploit dans le menu main.sh
echo /opt/FExploit/rsc/exploits/listool.txt << "$addme_exploit_title" 
## On ajoute l'exploit au menu main.sh
echo /opt/FExploit/rsc/exploits/main.sh << "#Title: $addme_exploit_title"
echo /opt/FExploit/rsc/exploits/main.sh << "#Author: $addme_exploit_name"
echo /opt/FExploit/rsc/exploits/main.sh << "if [ menu = '$addme_exploit_title' ]; then"
echo /opt/FExploit/rsc/exploits/main.sh << "./$addme_exploit_title" 
echo /opt/FExploit/rsc/exploits/main.sh << "exit" 
echo /opt/FExploit/rsc/exploits/main.sh << "else" 
echo /opt/FExploit/rsc/exploits/main.sh << "fi" 
}
## On lance "menu"
menu

##On donne les possibilitées de addme
if [ $addme = "exploit" ]
	then
## Si on choisis "exploit" dans addme on utilise addme_exploit

addme_exploit
	else
if [ $addme = "scan" ]
	then
echo "coming soon"
	else
echo "Error"
## Si sa ne marche pas on indique une erreur et relance "menu"
menu
fi
fi
